<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.meta.overwash.mapper.PaymentRequestMapper">

<!-- 테스트 쿼리  -->
	<insert id="insertPaymentRequest">
		<selectKey keyProperty="prId" order="BEFORE" resultType="Integer">
			SELECT PAYMENT_REQUEST_SEQ.NEXTVAL FROM DUAL
		</selectKey>
		INSERT INTO payment_request(pr_id,pr_price
		<if test="confirm != null">
			,confirm_id
		</if>
		)
		VALUES (
		#{prId},
		#{prPrice}
		<if test="confirm != null">
			,#{confirm.confirmId}
		</if>
		)
	</insert>
	
	<!-- 실제 사용할 쿼리 -->
<!-- 	<insert id="insertPaymentRequest">
		<selectKey keyProperty="prId" order="BEFORE" resultType="Integer">
			SELECT PAYMENT_REQUEST_SEQ.NEXTVAL FROM DUAL
		</selectKey>
		
		INSERT INTO payment_request(pr_id,pr_price,confirm_id)
		VALUES (
		#{prId},
		#{prPrice},
		#{confirm.confirmId})
	</insert> -->

</mapper>
